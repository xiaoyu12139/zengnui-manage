from ..viewmodels import {{ PluginView }}ViewModel
from typing import Callable

class {{ PluginName }}ViewModelBuilder:
    """
    {{ PluginName }} 视图模型构建类
    """

    def create_{{ plugin_name }}_vm_instance(self, context) -> Callable[[], {{ PluginView }}ViewModel]:
        """
        创建{{ PluginName }}视图模型实例
        """
        {{ plugin_name }}_vm = None
        def _create_{{ plugin_name }}_vm() -> {{ PluginView }}ViewModel:
            nonlocal {{ plugin_name }}_vm
            if {{ plugin_name }}_vm is None:
                {{ plugin_name }}_vm = {{ PluginView }}ViewModel(context)
            return {{ plugin_name }}_vm
        return _create_{{ plugin_name }}_vm
